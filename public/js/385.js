"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[385],{3744:(e,t)=>{t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[e,a]of t)o[e]=a;return o}},7887:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(821),l=["value"];const r={__name:"Input",props:["modelValue"],emits:["update:modelValue"],setup:function(e){var t=(0,a.ref)(null);return(0,a.onMounted)((function(){t.value.hasAttribute("autofocus")&&t.value.focus()})),function(o,r){return(0,a.openBlock)(),(0,a.createElementBlock)("input",{class:"border-gray-300 dark:border-white/30 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-zinc-800",value:e.modelValue,onInput:r[0]||(r[0]=function(e){return o.$emit("update:modelValue",e.target.value)}),ref_key:"input",ref:t},null,40,l)}}}},1329:(e,t,o)=>{o.d(t,{Z:()=>c});var a=o(821),l={class:"block font-medium text-sm text-gray-700 dark:text-white/80"},r={key:0},n={key:1};const c={__name:"Label",props:["value"],setup:function(e){return function(t,o){return(0,a.openBlock)(),(0,a.createElementBlock)("label",l,[e.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",r,(0,a.toDisplayString)(e.value),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",n,[(0,a.renderSlot)(t.$slots,"default")]))])}}}},3385:(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var a=o(821),l=(0,a.createElementVNode)("title",null,"\r\n            Roles\r\n        ",-1),r={class:"px-4 py-2 border-b dark:border-b-black/50 sticky top-0 bg-white dark:bg-zinc-900 z-40 duration-300 ease-in-out"},n=(0,a.createElementVNode)("button",{class:"text-lg p-1 rounded-lg cursor-pointer hover:bg-gray-200 hover:text-gray-700 dark:text-white dark:hover:bg-white/10"},[(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)("Roles "),(0,a.createElementVNode)("i",{class:"fa-solid fa-caret-down ml-2"})])],-1),c={class:"py-2"},s={class:"w-full dark:text-white text-left select-none"},i=(0,a.createElementVNode)("thead",{class:"border-b dark:border-white/30 sticky top-14 bg-white dark:bg-zinc-900 duration-300 ease-in-out"},[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{class:"text-xs font-bold py-3 pl-4"},"Name"),(0,a.createElementVNode)("th",{class:"text-xs font-bold py-3"})])],-1),d={class:"text-sm border-b dark:border-white/30 hover:bg-black/10 dark:hover:bg-white/20 cursor-pointer"},u={class:"py-2 pl-4"},m={class:"py-2"},p={class:"space-x-2"},f=["onClick"],b=["onClick"],v={class:"relative bg-white dark:bg-zinc-900 w-full lg:w-1/6 h-auto max-h-[80%] p-6 rounded-lg dark:text-white overflow-auto"},h=(0,a.createElementVNode)("span",{class:"font-bold text-lg block mb-2"},"New role",-1),k={class:"mt-4"},w={key:0,class:"text-red-500 text-sm"},y={class:"mt-6 flex justify-end space-x-2"},x=["disabled"],g={key:0,class:"fixed inset-0 z-40 bg-black/50 backdrop-blur-md"},N={class:"relative bg-white dark:bg-zinc-900 w-full lg:w-1/6 h-auto max-h-[80%] p-6 rounded-lg dark:text-white overflow-auto"},V=(0,a.createElementVNode)("span",{class:"font-bold text-lg block mb-2"},"New role",-1),E={class:"mt-4"},C={class:"mt-6 flex justify-end space-x-2"},B=["disabled"],M={key:0,class:"fixed inset-0 z-40 bg-black/50 backdrop-blur-md"},R={class:"relative bg-white dark:bg-zinc-900 w-full lg:w-96 h-auto max-h-[80%] p-6 rounded-lg dark:text-white"},z=(0,a.createElementVNode)("span",{class:"font-bold text-lg block mb-2"},"Confirmation",-1),S={class:"break-words"},D={class:"font-semibold"},_={class:"mt-4 flex justify-end space-x-2"},F=["disabled"],j={key:0,class:"fixed inset-0 z-40 bg-black/50 backdrop-blur-md"};var T=o(2343),Z=o(7887),I=o(1329),L=o(9038);const O={components:{Dropdown:T.Z,BreezeInput:Z.Z,BreezeLabel:I.Z,Head:L.Fb},data:function(){return{showNewRoleModal:!1,showEditRoleModal:!1,showDeleteModal:!1,editRole:"",deleteRole:"",loading:!1}},props:{users:Object,roles:Object,errors:Object},methods:{edit:function(e){this.showEditRoleModal=!0,this.editRole=e,this.editForm.name=this.editRole.name},deleteData:function(e){this.deleteRole=e,this.showDeleteModal=!0}},setup:function(){return{form:(0,L.cI)({name:""}),editForm:(0,L.cI)({name:""})}}};const A=(0,o(3744).Z)(O,[["render",function(e,t,o,T,Z,I){var L=this,O=(0,a.resolveComponent)("Head"),A=(0,a.resolveComponent)("Dropdown"),$=(0,a.resolveComponent)("BreezeLabel"),H=(0,a.resolveComponent)("BreezeInput");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(O,null,{default:(0,a.withCtx)((function(){return[l]})),_:1}),(0,a.createElementVNode)("div",r,[(0,a.createVNode)(A,{align:"left"},{trigger:(0,a.withCtx)((function(){return[n]})),content:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",{onClick:t[0]||(t[0]=function(e){return L.showNewRoleModal=!0}),class:"text-sm px-4 p-1 dark:text-white cursor-pointer hover:bg-black/10 dark:hover:bg-white/20"}," Add new role ")])]})),_:1})]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("table",s,[i,(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.roles,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",d,[(0,a.createElementVNode)("td",u,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("td",m,[(0,a.createElementVNode)("div",p,[e.id>3?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("button",{type:"button",onClick:function(t){return I.edit(e)},class:"px-4 py-1 text-xs border border-blue-500 text-blue-500 rounded-lg hover:bg-blue-500 hover:text-white active:bg-blue-700 active:border-blue-700"},"Edit",8,f),(0,a.createElementVNode)("button",{type:"button",onClick:function(t){return I.deleteData(e)},class:"px-4 py-1 text-xs border border-red-500 text-red-500 rounded-lg hover:bg-red-500 hover:text-white active:bg-red-700 active:border-red-700"},"Delete",8,b)],64)):(0,a.createCommentVNode)("",!0)])])])})),256))])])]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(a.Transition,{"enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 scale-75","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-out","leave-from-class":"opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-75"},{default:(0,a.withCtx)((function(){return[Z.showNewRoleModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"inset-0 fixed z-50 h-screen w-screen flex justify-center items-center",onClick:t[4]||(t[4]=(0,a.withModifiers)((function(e){return L.showNewRoleModal=!1}),["self"]))},[(0,a.createElementVNode)("div",v,[h,(0,a.createElementVNode)("form",{onSubmit:t[3]||(t[3]=(0,a.withModifiers)((function(t){return T.form.post(e.route("roles.store"),{onSuccess:function(){return L.showNewRoleModal=!!o.errors.length},preserveState:!0,preserveScroll:!0})}),["prevent"]))},[(0,a.createElementVNode)("div",k,[(0,a.createVNode)($,{for:"name",value:"Role name"}),(0,a.createVNode)(H,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:T.form.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.form.name=e}),autofocus:""},null,8,["modelValue"]),o.errors.name?((0,a.openBlock)(),(0,a.createElementBlock)("span",w,(0,a.toDisplayString)(o.errors.name),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("button",{onClick:t[2]||(t[2]=function(e){return L.showNewRoleModal=!1}),type:"button",class:"hover:underline dark:text-white/80"},"Cancel"),(0,a.createElementVNode)("button",{type:"submit",disabled:T.form.processing,class:(0,a.normalizeClass)([{"opacity-25":T.form.processing},"px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 active:bg-blue-900 text-sm rounded-lg"])},"Save",10,x)])],32)])])):(0,a.createCommentVNode)("",!0)]})),_:1}),(0,a.createVNode)(a.Transition,{"enter-active-class":"duration-200 ease opacity-0","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease opacity-90","leave-from-class":"opacity-90","leave-to-class":"transform opacity-0",appear:""},{default:(0,a.withCtx)((function(){return[Z.showNewRoleModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",g)):(0,a.createCommentVNode)("",!0)]})),_:1})]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(a.Transition,{"enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 scale-75","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-out","leave-from-class":"opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-75"},{default:(0,a.withCtx)((function(){return[Z.showEditRoleModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"inset-0 fixed z-50 h-screen w-screen flex justify-center items-center",onClick:t[8]||(t[8]=(0,a.withModifiers)((function(e){return L.showEditRoleModal=!1}),["self"]))},[(0,a.createElementVNode)("div",N,[V,(0,a.createElementVNode)("form",{onSubmit:t[7]||(t[7]=(0,a.withModifiers)((function(t){return T.editForm.put(e.route("roles.update",L.editRole.id),{onSuccess:function(){return L.showEditRoleModal=!!o.errors.length},preserveState:!0,preserveScroll:!0})}),["prevent"]))},[(0,a.createElementVNode)("div",E,[(0,a.createVNode)($,{for:"name",value:"Role name"}),(0,a.createVNode)(H,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:T.editForm.name,"onUpdate:modelValue":t[5]||(t[5]=function(e){return T.editForm.name=e}),autofocus:""},null,8,["modelValue"])]),(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("button",{onClick:t[6]||(t[6]=function(e){return L.showEditRoleModal=!1}),type:"button",class:"hover:underline dark:text-white/80"},"Cancel"),(0,a.createElementVNode)("button",{type:"submit",disabled:T.editForm.processing,class:(0,a.normalizeClass)([{"opacity-25":T.editForm.processing},"px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 active:bg-blue-900 text-sm rounded-lg"])},"Save",10,B)])],32)])])):(0,a.createCommentVNode)("",!0)]})),_:1}),(0,a.createVNode)(a.Transition,{"enter-active-class":"duration-200 ease opacity-0","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease opacity-90","leave-from-class":"opacity-90","leave-to-class":"transform opacity-0",appear:""},{default:(0,a.withCtx)((function(){return[Z.showEditRoleModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",M)):(0,a.createCommentVNode)("",!0)]})),_:1})]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(a.Transition,{"enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 scale-75","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-out","leave-from-class":"opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-75"},{default:(0,a.withCtx)((function(){return[Z.showDeleteModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"overflow-auto inset-0 fixed z-50 h-screen w-screen flex justify-center items-center",onClick:t[11]||(t[11]=(0,a.withModifiers)((function(e){return L.showDeleteModal=!1}),["self"]))},[(0,a.createElementVNode)("div",R,[z,(0,a.createElementVNode)("div",S,[(0,a.createTextVNode)(" Are you sure you want to delete "),(0,a.createElementVNode)("span",D,(0,a.toDisplayString)(Z.deleteRole.name),1),(0,a.createTextVNode)("? ")]),(0,a.createElementVNode)("div",_,[(0,a.createElementVNode)("button",{onClick:t[9]||(t[9]=function(e){return L.showDeleteModal=!1}),type:"button",class:"hover:underline text-sm px-3"},"Cancel"),(0,a.createElementVNode)("button",{onClick:t[10]||(t[10]=(0,a.withModifiers)((function(t){return L.$inertia.delete(e.route("roles.destroy",Z.deleteRole.id),{onSuccess:function(){L.showDeleteModal=!1,L.deleteRole="",L.loading=!1},onStart:function(){return L.loading=!0},preserveScroll:!0})}),["stop"])),disabled:L.loading,class:(0,a.normalizeClass)([{"opacity-25":L.loading},"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700 active:bg-red-900 text-sm"])},"Delete",10,F)])])])):(0,a.createCommentVNode)("",!0)]})),_:1}),(0,a.createVNode)(a.Transition,{"enter-active-class":"duration-200 ease opacity-0","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease opacity-90","leave-from-class":"opacity-90","leave-to-class":"transform opacity-0",appear:""},{default:(0,a.withCtx)((function(){return[Z.showDeleteModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",j)):(0,a.createCommentVNode)("",!0)]})),_:1})])],64)}]])}}]);