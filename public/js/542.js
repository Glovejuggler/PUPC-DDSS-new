(self.webpackChunk=self.webpackChunk||[]).push([[542],{2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},4239:(e,t,n)=>{var r=n(2705),o=n(9607),l=n(2333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):l(e)}},7561:(e,t,n)=>{var r=n(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,l=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=l.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,l=r||o||Function("return this")();e.exports=l},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var r=n(3218),o=n(7771),l=n(4841),i=Math.max,c=Math.min;e.exports=function(e,t,n){var a,s,u,d,f,p,m=0,b=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,r=s;return a=s=void 0,m=t,d=e.apply(r,n)}function y(e){return m=e,f=setTimeout(w,t),b?h(e):d}function x(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-m>=u}function w(){var e=o();if(x(e))return k(e);f=setTimeout(w,function(e){var n=t-(e-p);return v?c(n,u-(e-m)):n}(e))}function k(e){return f=void 0,g&&a?h(e):(a=s=void 0,d)}function E(){var e=o(),n=x(e);if(a=arguments,s=this,p=e,n){if(void 0===f)return y(p);if(v)return clearTimeout(f),f=setTimeout(w,t),h(p)}return void 0===f&&(f=setTimeout(w,t)),d}return t=l(t)||0,r(n)&&(b=!!n.leading,u=(v="maxWait"in n)?i(l(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),m=0,a=p=s=f=void 0},E.flush=function(){return void 0===f?d:k(o())},E}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7771:(e,t,n)=>{var r=n(5639);e.exports=function(){return r.Date.now()}},4841:(e,t,n)=>{var r=n(7561),o=n(3218),l=n(3448),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(l(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},1102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(821),o=n(3279),l=n.n(o),i={key:0,class:"mt-4 pb-8 text-center"},c=[(0,r.createElementVNode)("i",{class:"fa-solid fa-spinner animate-spin text-3xl text-gray-800 dark:text-white/50"},null,-1)];const a={__name:"InfiniteScroll",props:{loadMore:Function},setup:function(e){var t=e,n=(0,r.ref)(!1),o=l()((function(){var e;document.documentElement.offsetHeight-document.documentElement.scrollTop-(null!==(e=window.innerHeight)&&void 0!==e?e:screen.height)<200&&!n.value&&(n.value=!0,t.loadMore().finally((function(){return n.value=!1})))}),100);return(0,r.onMounted)((function(){window.addEventListener("scroll",o)})),(0,r.onUnmounted)((function(){window.removeEventListener("scroll",o)})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",null,[(0,r.renderSlot)(e.$slots,"default")]),n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,c)):(0,r.createCommentVNode)("",!0)],64)}}}},7887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(821),o=["value"];const l={__name:"Input",props:["modelValue"],emits:["update:modelValue"],setup:function(e){var t=(0,r.ref)(null);return(0,r.onMounted)((function(){t.value.hasAttribute("autofocus")&&t.value.focus()})),function(n,l){return(0,r.openBlock)(),(0,r.createElementBlock)("input",{class:"border-gray-300 dark:border-white/30 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-zinc-800",value:e.modelValue,onInput:l[0]||(l[0]=function(e){return n.$emit("update:modelValue",e.target.value)}),ref_key:"input",ref:t},null,40,o)}}}},7542:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>re});var r=n(821),o=(0,r.createElementVNode)("title",null,"\r\n            Shared Files\r\n        ",-1),l={class:"px-4 py-2 border-b dark:border-b-black/50 sticky flex justify-between items-center top-0 bg-white dark:bg-zinc-900 z-40 duration-300 ease-in-out"},i=(0,r.createElementVNode)("div",{class:"text-lg p-1 rounded-lg dark:text-white select-none"}," Shared Files ",-1),c={key:0,class:"pb-8"},a={key:0},s=(0,r.createElementVNode)("div",{class:"dark:text-white/80 px-4 mt-8 font-bold"}," Folders ",-1),u={class:"grid gap-2 grid-cols-6 px-4 mt-8"},d=["onFocusin","onDblclick"],f=(0,r.createElementVNode)("i",{class:"fa-solid fa-folder w-8 text-xl mr-2 text-gray-800 dark:text-white"},null,-1),p={key:1},m=(0,r.createElementVNode)("div",{class:"dark:text-white/80 px-4 mt-8 font-bold"}," Files ",-1),b={class:"grid gap-2 lg:grid-cols-6 md:grid-cols-5 grid-cols-3 px-4 mt-8"},v=["onFocusin","id"],g={class:"w-full h-48 overflow-hidden flex justify-center bg-white dark:bg-zinc-900"},h=["src","alt"],y={class:"bg-white dark:bg-zinc-900 dark:text-white text-sm w-full px-4 py-3 overflow-hidden text-ellipsis whitespace-nowrap"},x={key:1,class:"pb-8"},w={class:"w-full dark:text-white text-left select-none"},k=(0,r.createElementVNode)("thead",{class:"border-b dark:border-white/30 sticky top-14 bg-white dark:bg-zinc-800 duration-300 ease-in-out"},[(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("th",{class:"text-xs font-bold py-3 pl-4"},"Name"),(0,r.createElementVNode)("th",{class:"text-xs font-bold py-3"},"Uploaded by"),(0,r.createElementVNode)("th",{class:"text-xs font-bold py-3"},"Date uploaded"),(0,r.createElementVNode)("th",{class:"text-xs font-bold py-3 pr-4"},"Size")])],-1),E=["onFocusin","onDblclick"],N={class:"py-2 pl-4"},V=(0,r.createElementVNode)("i",{class:"fa-solid fa-folder w-6"},null,-1),S={class:"py-2"},F={class:"py-2"},B={class:"py-2 pr-4"},j=["onFocusin"],M={class:"py-2 pl-4"},O={class:"py-2"},C={class:"py-2"},D={class:"py-2 pr-4"},_={key:0,class:"flex justify-center mt-8"},z={class:"flex flex-col items-center"},T={class:"rounded-full bg-gray-800 dark:bg-zinc-900 h-28 w-28 items-center flex justify-center"},I={class:"text-slate-400 dark:text-white/50 mt-4"},P={id:"context",class:"bg-white dark:bg-zinc-800 rounded-lg shadow-md shadow-black/30 fixed w-48 z-50 py-2 origin-top"},$={key:0},A=["href"],L=(0,r.createElementVNode)("i",{class:"fa-solid fa-download w-8"},null,-1),Z={key:1},H=(0,r.createElementVNode)("i",{class:"fa-solid fa-folder-open w-8"},null,-1);var U=n(9038),Y=n(7887),q=n(2343),W=n(1102),X=n(9669),G=n.n(X);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function K(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne={components:{Head:U.Fb,BreezeInput:Y.Z,Dropdown:q.Z,InfiniteScroll:W.Z,Link:U.rU},data:function(){var e;return{view:null!==(e=localStorage.getItem("view"))&&void 0!==e?e:"grid",selectedFolder:"",selectedFile:"",visibleFiles:this.files,context:!1,temp:"",tempIndex:""}},props:{files:Object,folders:Object,errors:Object,folder:Number},methods:{toggleView:function(){this.view="list"===localStorage.getItem("view")?"grid":"list",localStorage.setItem("view",this.view)},folderSelect:function(e){this.selectedFolder=e},fileSelect:function(e,t){this.selectedFile=e,this.tempIndex=t},unselect:function(){this.selectedFolder=null,this.selectedFile=null,this.fileOptions=!1,this.context=!1},humanFileSize:function(e){var t=0==e?0:Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]},loadMoreFiles:function(){var e=this;return this.visibleFiles.next_page_url?G().get(this.visibleFiles.next_page_url).then((function(t){e.visibleFiles=ee(ee({},t.data),{},{data:[].concat(K(e.visibleFiles.data),K(t.data.data))})})):Promise.resolve()},contextMenu:function(e){e.clientX<window.innerWidth-192?document.querySelector("#context").style.left="".concat(e.clientX,"px"):document.querySelector("#context").style.left="".concat(e.clientX-192,"px"),e.clientY<window.innerHeight-190?document.querySelector("#context").style.top="".concat(e.clientY,"px"):document.querySelector("#context").style.top="".concat(e.clientY-190,"px"),this.context=!0}}};const re=(0,n(3744).Z)(ne,[["render",function(e,t,n,U,Y,q){var W=this,X=(0,r.resolveComponent)("Head"),G=(0,r.resolveComponent)("InfiniteScroll");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(X,null,{default:(0,r.withCtx)((function(){return[o]})),_:1}),(0,r.createElementVNode)("div",l,[i,(0,r.createElementVNode)("i",{onClick:t[0]||(t[0]=function(e){return q.toggleView()}),class:(0,r.normalizeClass)(["grid"===Y.view?"fa-list":"fa-grip","fa-solid dark:text-white dark:hover:bg-white/10 hover:bg-black/10 inline-flex items-center justify-center h-10 w-10 rounded-full cursor-pointer"]),id:"viewToggle"},null,2)]),(0,r.createVNode)(G,{loadMore:q.loadMoreFiles},{default:(0,r.withCtx)((function(){return["grid"===Y.view?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[n.folders.length?((0,r.openBlock)(),(0,r.createElementBlock)("section",a,[s,(0,r.createElementVNode)("div",u,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.folders,(function(n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{onClick:t[1]||(t[1]=(0,r.withModifiers)((function(e){return e.target.focus()}),["self"])),tabindex:"-1",onContextmenu:t[2]||(t[2]=(0,r.withModifiers)((function(){return q.contextMenu&&q.contextMenu.apply(q,arguments)}),["prevent"])),onFocusin:function(e){return q.folderSelect(n)},onFocusout:t[3]||(t[3]=function(){return q.unselect&&q.unselect.apply(q,arguments)}),onDblclick:(0,r.withModifiers)((function(t){return W.$inertia.get(e.route("share.index",n.id))}),["prevent"]),class:"w-full group cursor-pointer select-none p-4 border border-black/30 dark:border-zinc-900 focus:bg-blue-100 focus:ring-blue-700 focus:ring-1 hover:bg-black/10 dark:hover:bg-white/5 dark:focus:bg-blue-900 dark:bg-zinc-900 dark:text-white rounded-lg text-sm text-ellipsis overflow-hidden flex items-center"},[f,(0,r.createTextVNode)((0,r.toDisplayString)(n.name),1)],40,d)})),256))])])):(0,r.createCommentVNode)("",!0),Y.visibleFiles.data.length?((0,r.openBlock)(),(0,r.createElementBlock)("section",p,[m,(0,r.createElementVNode)("div",b,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Y.visibleFiles.data,(function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{onContextmenu:t[5]||(t[5]=(0,r.withModifiers)((function(){return q.contextMenu&&q.contextMenu.apply(q,arguments)}),["prevent"])),key:n,onClick:t[6]||(t[6]=function(e){return e.target.focus()}),tabindex:"-1",onFocusin:function(t){return q.fileSelect(e,n)},onFocusout:t[7]||(t[7]=function(){return q.unselect&&q.unselect.apply(q,arguments)}),id:"file".concat(e.id),class:"w-full overflow-hidden border border-black/30 focus:ring-blue-700 focus:ring-1 dark:border-zinc-900 [&>div:nth-child(2)]:dark:focus:bg-blue-900 [&>div:nth-child(2)]:focus:bg-blue-100 rounded-lg text-sm select-none cursor-pointer"},[(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("img",{onDragstart:t[4]||(t[4]=(0,r.withModifiers)((function(){}),["prevent"])),src:"".concat(e.img_source),class:"object-cover h-48 w-max",alt:e.name},null,40,h)]),(0,r.createElementVNode)("div",y,(0,r.toDisplayString)(e.name),1)],40,v)})),128))])])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),"list"===Y.view?((0,r.openBlock)(),(0,r.createElementBlock)("div",x,[(0,r.createElementVNode)("table",w,[k,(0,r.createElementVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.folders,(function(n){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{tabindex:"-1",onContextmenu:t[8]||(t[8]=(0,r.withModifiers)((function(){return q.contextMenu&&q.contextMenu.apply(q,arguments)}),["prevent"])),class:"text-sm border-b dark:border-white/30 hover:bg-black/10 dark:hover:bg-white/20 focus:bg-blue-100 dark:focus:bg-blue-900 cursor-pointer",onClick:t[9]||(t[9]=function(e){return e.target.focus()}),onFocusin:function(e){return q.folderSelect(n)},onFocusout:t[10]||(t[10]=function(){return q.unselect&&q.unselect.apply(q,arguments)}),onDblclick:(0,r.withModifiers)((function(t){return W.$inertia.get(e.route("share.index",n.id))}),["prevent"])},[(0,r.createElementVNode)("td",N,[V,(0,r.createTextVNode)((0,r.toDisplayString)(n.name),1)]),(0,r.createElementVNode)("td",S,(0,r.toDisplayString)(n.user.full_name===e.$page.props.auth.user.full_name?"You":n.user.full_name),1),(0,r.createElementVNode)("td",F,(0,r.toDisplayString)(e.formatDate(n.created_at)),1),(0,r.createElementVNode)("td",B,(0,r.toDisplayString)(q.humanFileSize(n.size)),1)],40,E)})),256)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Y.visibleFiles.data,(function(n){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{tabindex:"-1",onContextmenu:t[11]||(t[11]=(0,r.withModifiers)((function(){return q.contextMenu&&q.contextMenu.apply(q,arguments)}),["prevent"])),class:"text-sm border-b dark:border-white/30 hover:bg-black/10 dark:hover:bg-white/20 focus:bg-blue-100 dark:focus:bg-blue-900 cursor-pointer",onClick:t[12]||(t[12]=function(e){return e.target.focus()}),onFocusin:function(e){return q.fileSelect(n)},onFocusout:t[13]||(t[13]=function(){return q.unselect&&q.unselect.apply(q,arguments)})},[(0,r.createElementVNode)("td",M,(0,r.toDisplayString)(n.name),1),(0,r.createElementVNode)("td",O,(0,r.toDisplayString)(n.user.full_name===e.$page.props.auth.user.full_name?"You":n.user.full_name),1),(0,r.createElementVNode)("td",C,(0,r.toDisplayString)(e.formatDate(n.created_at)),1),(0,r.createElementVNode)("td",D,(0,r.toDisplayString)(q.humanFileSize(n.size)),1)],40,j)})),256))])])])):(0,r.createCommentVNode)("",!0)]})),_:1},8,["loadMore"]),n.folders.length||Y.visibleFiles.data.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",_,[(0,r.createElementVNode)("div",z,[(0,r.createElementVNode)("div",T,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["text-white text-5xl",n.folder?"fa-regular fa-folder-open":"fa-solid fa-share-nodes"])},null,2)]),(0,r.createElementVNode)("span",I,(0,r.toDisplayString)(n.folder?"Empty folder":"Shared files will go here"),1)])])),(0,r.createVNode)(r.Transition,{"enter-from-class":"scale-y-0","enter-to-class":"duration-200 ease-out","leave-from-class":"duration-200 ease-out","leave-to-class":"scale-y-0"},{default:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("div",P,[Y.selectedFile?((0,r.openBlock)(),(0,r.createElementBlock)("div",$,[(0,r.createElementVNode)("a",{href:e.route("files.download",W.selectedFile.id),onMousedown:t[14]||(t[14]=(0,r.withModifiers)((function(){}),["prevent"])),class:"dark:text-white flex px-4 py-2 text-sm hover:bg-black/10 dark:hover:bg-white/10 cursor-pointer"},[L,(0,r.createTextVNode)("Download")],40,A)])):(0,r.createCommentVNode)("",!0),Y.selectedFolder?((0,r.openBlock)(),(0,r.createElementBlock)("div",Z,[(0,r.createElementVNode)("div",{onMousedown:t[15]||(t[15]=(0,r.withModifiers)((function(t){return W.$inertia.get(e.route("share.index",Y.selectedFolder.id))}),["prevent"])),class:"dark:text-white px-4 py-2 text-sm hover:bg-black/10 dark:hover:bg-white/10 cursor-pointer"},[H,(0,r.createTextVNode)("Open")],32)])):(0,r.createCommentVNode)("",!0)],512),[[r.vShow,Y.context]])]})),_:1})],64)}]])}}]);